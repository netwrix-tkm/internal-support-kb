"Id","ParentId","CommentBody","CreatedById","CreatedDate","LastModifiedDate","IsPublished","IsDeleted"
"00aQk000008siHBIAY","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Priority has been changed to High.","005Qk000001nViCIAU","2024-09-03T12:51:18.000Z","2024-09-03T12:51:18.000Z","false","false"
"00aQk0000093tE8IAI","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi Team, @Cristian.halmajan@netwrix.com
The customer / partner is getting impatient and pressing for feedback on this case.  Could you kindly prioritize this one as it is high ACV account?","005Qk000001nViCIAU","2024-09-12T13:37:49.000Z","2024-09-12T13:37:49.000Z","false","false"
"00aQk0000093xCrIAI","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Priority has been changed to Critical.","005Qk000001nViCIAU","2024-09-12T13:38:04.000Z","2024-09-12T13:38:04.000Z","false","false"
"00aQk0000099DqTIAU","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-09-17T13:54:16.000Z","2024-09-17T13:54:16.000Z","false","false"
"00aQk0000099DqVIAU","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

@WaitingOnEngineer we would like to receive the following information. While the Raspberry Pi device is connected using the USB-to-serial cable to the mac, run the following command in a terminal:

--- CODE ---
ioreg -i -l > ~/Desktop/ioreg_enum_data.txt
--- CODE ---

 At the end, collect the generated file ""ioreg_enum_data.txt"" from the user's desktop folder and send it to us.

[DevOps CommentId:10937121]","0054u000006gtWUAAY","2024-09-17T13:54:17.000Z","2024-09-17T13:54:17.000Z","false","false"
"00aQk0000099JW5IAM","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Client.","005Qk000001nViCIAU","2024-09-17T14:46:32.000Z","2024-09-17T14:46:32.000Z","false","false"
"00aQk000009BkvCIAS","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki:
The customer sent us the file 'ioreg_enum_data.txt"" file with the following note.

""The attachment is the result exported by ioreg, in which the USB Serial device is displayed as usbserial-110 on the MacBook.""","005Qk000001nViCIAU","2024-09-19T09:16:26.000Z","2024-09-19T09:16:26.000Z","false","false"
"00aQk000009BkwnIAC","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting R&D.","005Qk000001nViCIAU","2024-09-19T09:16:52.000Z","2024-09-19T09:16:52.000Z","false","false"
"00aQk000009HgFNIA0","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-09-24T15:00:31.000Z","2024-09-24T15:00:31.000Z","false","false"
"00aQk000009HgFPIA0","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

There's a test build available:

--- CODE ---
Public/groups/_daily_builds/CoSoSys/2024-builds/2024_09_24/EppMac_v3.0.4.0008
--- CODE ---

The test build detects the ""USB-Serial Controller"" device as an ""Android Smartphone (Media Transfer Protocol)"" device.

The decision to detect USB-Serial Controller devices as: ""Android Smartphone (Media Transfer Protocol)"" is arbitrary and we should really add a new device category on macOS for this on the EPP server.

Unfortunately I was not able to test if we are able to block the device with the test build. For that I would need the USB to Serial Controller device at my home (I already have a personal Raspberry Pi):

https://www.emag.ro/cablu-convertor-pl2303-ta-catre-ttl-rs232-pla562/pd/DWBM2FYBM/
https://www.emag.ro/cablu-pl2303-ta-catre-ttl-rs232-cl429/pd/DBNF9VBBM/

@WaitingOnEngineer

[DevOps CommentId:10969858]","0054u000006gtWUAAY","2024-09-24T15:00:32.000Z","2024-09-24T15:00:32.000Z","false","false"
"00aQk000009IwzeIAC","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Thank you @Robert Zavalczki

@Cristian-Alexandru Halmajan
Can we please get an external download link for the test built?","005Qk000001nViCIAU","2024-09-25T13:34:27.000Z","2024-09-25T13:34:27.000Z","false","false"
"00aQk000009Iv2hIAC","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Cristian-Alexandru Halmajan:

Hi @WaitingOnEngineer,

Please use the following link to download the test build: https://download.endpointprotector.com/custom_agent/Epp25092024/EPPMac3.0.4.0008.Notarized.tar

Regards,
Cristi

[DevOps CommentId:10975914]","0054u000006gtWUAAY","2024-09-25T13:40:57.000Z","2024-09-25T13:40:57.000Z","false","false"
"00aQk000009JBc5IAG","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Client.","005Qk000001nViCIAU","2024-09-25T15:51:14.000Z","2024-09-25T15:51:14.000Z","false","false"
"00aQk000009JBvSIAW","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Thank you @Robert Zavalczki and @Cristian-Alexandru Halmajan:

We have relayed the feedback to the customer and asked them to retest the scenario with the test build provided.","005Qk000001nViCIAU","2024-09-25T15:53:07.000Z","2024-09-25T15:53:07.000Z","false","false"
"00aQk000009OBhuIAG","500Qk00000ELk7pIAD","Hi Robert

The partner sent some logs taken from the test build and provided this note
 
""The attachment is the related log of /dev/tty.usbserial-110 that you can see after connecting the USB serial and using the command ls /dev/tty.*.
there is no reprovision.db file in the /private/etc/epp/ folder.
 
Another question, theoretically using this Client agent can block usb-serial devices, right?""","005Qk000001nViCIAU","2024-09-30T13:35:11.000Z","2024-09-30T13:35:11.000Z","false","false"
"00aQk000009OFYcIAO","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi Robert

The partner sent some logs taken from the test build and provided this note

""The attachment is the related log of /dev/tty.usbserial-110 that you can see after connecting the USB serial and using the command ls /dev/tty.*.
there is no reprovision.db file in the /private/etc/epp/ folder.

Another question, theoretically using this Client agent can block usb-serial devices, right?""","005Qk000001nViCIAU","2024-09-30T13:36:15.000Z","2024-09-30T13:36:15.000Z","false","false"
"00aQk000009OFaDIAW","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting R&D.","005Qk000001nViCIAU","2024-09-30T13:36:25.000Z","2024-09-30T13:36:25.000Z","false","false"
"00aQk000009OKziIAG","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-09-30T14:31:45.000Z","2024-09-30T14:31:45.000Z","false","false"
"00aQk000009OKzkIAG","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

> Another question, theoretically using this Client agent can block usb-serial devices, right?""

Theoretically yes, but we were not able to test this, so we would appreciate it if the customer would verify if the blocking works.

In the latest logs we can see that the device is detected as ""Android Smartphone (Media Transfer Protocol)"" and is viewable in the EPP Notifier application. The device right is ""Allow Access"" so we can't tell if we were able to block it.
@WaitingOnEngineer

[DevOps CommentId:10994653]","0054u000006gtWUAAY","2024-09-30T14:31:46.000Z","2024-09-30T14:31:46.000Z","false","false"
"00aQk000009OMobIAG","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Client.","005Qk000001nViCIAU","2024-09-30T14:35:27.000Z","2024-09-30T14:35:27.000Z","false","false"
"00aQk000009OMtSIAW","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki
Thank you, I have relayed the feedback to the partner / customer.","005Qk000001nViCIAU","2024-09-30T14:36:11.000Z","2024-09-30T14:36:11.000Z","false","false"
"00aQk000009YlYoIAK","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki

The partner submitted new logs after testing with the build 3.0.4.0008.Notarized.  They also included the question below.

""Hi Support
 I uploaded a file named ""reextre0509epp.zip"", which contains the TCMC log.
In addition, they want to know a little bit about the principle of EPP controlling usb-serial, please explain a little bit.""","005Qk000001nViCIAU","2024-10-09T07:48:23.000Z","2024-10-09T07:48:23.000Z","false","false"
"00aQk000009Ylc1IAC","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting R&D.","005Qk000001nViCIAU","2024-10-09T07:48:40.000Z","2024-10-09T07:48:40.000Z","false","false"
"00aQk000009ZMlGIAW","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi Team, Robert

The customer asked more questions regarding this.  These are questions meant for the Dev team.  Could you please give us the response that we can relay to the partner / customer?


""Hi Support

Since this is a new feature, my customers and I have some doubts.
First, the goal is to prevent the MAC from transmitting some development data through the USB-Serial device.
Is your expected method to disable the use of the USB-Serial device on the MAC?
According to my understanding, devices such as RS232 only perform single-end data transmission mode with voltage differences through TX/RX, which is a completely different mode from data transmission on USB. Therefore, theoretically it is impossible for the CAP module of EPP to recognize this protocol. This device can only be disabled from the DC module.
What would be the ideal outcome?
A. MAC cannot see the USB-Serial device, so it cannot be used.
B. The MAC can see the USB-Serial device, but cannot use it.
C. Others

In addition, the customer's environment is very complex, and many control programs like Jamf are installed (they did not disclose others). Will this affect the EPP agent?

Jay""","005Qk000001nViCIAU","2024-10-09T16:35:41.000Z","2024-10-09T16:35:41.000Z","false","false"
"00aQk000009aIMDIA2","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-10-10T10:51:37.000Z","2024-10-10T10:51:37.000Z","false","false"
"00aQk000009aIMFIA2","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

Please find my answers below.

> Is your expected method to disable the use of the USB-Serial device on the MAC?

Yes, we achieve this using the device control module. For USB devices on macOS we do this by obtaining exclusive access to the USB device and suspending it.

> According
 to my understanding, devices such as RS232 only perform single-end data
 transmission mode with voltage differences through TX/RX, which is a 
completely different mode from data transmission on USB.

We don't monitor the transferred data, we merely disable the USB device. However, if the data transfer is done using a well known application such as ""scp"" or ""ssh"" we might be able to monitor that application exit point using the Content Aware Protection (CAP) module.

> What would be the ideal outcome?

B. The MAC can see the USB-Serial device, but cannot use it.
> In
 addition, the customer's environment is very complex, and many control 
programs like Jamf are installed (they did not disclose others). Will 
this affect the EPP agent?

We can't guarantee that another product won't interfere with Endpoint Protector, that's why an evaluation in a staging environment is needed by the customer before buying our product.

@WaitingOnEngineer

[DevOps CommentId:11041133]","0054u000006gtWUAAY","2024-10-10T10:51:38.000Z","2024-10-10T10:51:38.000Z","false","false"
"00aQk000009aIZ8IAM","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Client.","005Qk000001nViCIAU","2024-10-10T11:06:11.000Z","2024-10-10T11:06:11.000Z","false","false"
"00aQk000009aJWoIAM","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Thank you @Robert Zavalczki:
Any feedback regarding the logs which the customer submitted please?","005Qk000001nViCIAU","2024-10-10T11:07:15.000Z","2024-10-10T11:07:15.000Z","false","false"
"00aQk000009aIJ0IAM","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting R&D.","005Qk000001nViCIAU","2024-10-10T11:09:17.000Z","2024-10-10T11:09:17.000Z","false","false"
"00aQk000009aLTnIAM","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi Team, our partnter is asking for the feedback on the logs that they submitted

""Hi support 

Thanks for your answers.
Please notify me if the analysis results for the report are complete.

This may be the only important technical issue before customers purchase.""","005Qk000001nViCIAU","2024-10-10T12:47:21.000Z","2024-10-10T12:47:21.000Z","false","false"
"00aQk000009aOD7IAM","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-10-10T12:52:11.000Z","2024-10-10T12:52:11.000Z","false","false"
"00aQk000009aOD9IAM","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

@WaitingOnEngineer  I just noticed there are new logs. They don't seem contain anything interesting, or should I be looking for something in particular?

I can see that at some point a ""USB to Ethernet"" adapter is connected which we gracefully ignore. The USB to Serial adapter is not connected.

[DevOps CommentId:11042431]","0054u000006gtWUAAY","2024-10-10T12:52:11.000Z","2024-10-10T12:52:11.000Z","false","false"
"00aQk000009aORdIAM","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Client.","005Qk000001nViCIAU","2024-10-10T12:56:50.000Z","2024-10-10T12:56:50.000Z","false","false"
"00aQk000009imF5IAI","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki:

The partner also sent us the below.


""
Hi Support

After our ongoing communication with the customer, they informed us that the other two unidentified items were from the following listing.
(The information security unit responsible for the test was unwilling to provide the name and photo of the device)

Since many departments of the client are involved this time, the following is my personal speculation and discussion.
1. For USB-Serial devices, they need to be recognized and disabled.
2. If a function like ""Windows Administrator or Jamf"" can detect the device (the administrator can clearly see that the device exists), the customer hopes that EPP can disable the device.
3. Regarding the hardware tools in the list, the testing unit hopes to block them all, but there may be some room for discussion. 

Therefore, it is necessary to make a technical judgment first, and then ask business personnel to communicate.
 a. It can be done in a short time.
 b. It takes a long time to complete.
 c. Unsure or this may be beyond the expected scope.

1. Proxmark
Proxmark Hardware：https://proxmark.com/
2. Hak5 WiFi Pineapple
Hak5：https://shop.hak5.org/products/wifi-pineapple
3. Hak5 USB Rubber Ducky
Hak5：https://shop.hak5.org/products/usb-rubber-ducky
4. Hak5 OMG 電纜
https://shop.hak5.org/products/omg-cable
5. Hak5 Lan Turtle
https://shop.hak5.org/products/lan-turtle
6. Ubertooth One
7. HACKRF ONE
https://greatscottgadgets.com/hackrf/one
8. SHARK JACK
https://shop.hak5.org/collections/sale/products/shark-jack
9. bash bunny
https://forums.hak5.org/topic/40210-what-is-difference-of-rubber-ducky
10. PACKET SQUIRREL
https://shop.hak5.org/products/packet-squirrel-mark-ii
11. Flipper Zero
https://flipperdevices.com
12. HakCat WiFi Nugget
https://retia.io/products/wi-fi-nugget-assembled
https://www.theverge.com/23438967/hakcat-wifi-nugget-hacking-open-source-hak5
13. ChameleonMini
https://sneaktechnology.com/product/chameleonmini-rev-g-by-proxgrind
14. Deauther Watch
https://www.theverge.com/23412661/deauther-watch-wifi-hacking-chip-network-deauthorization-secure-oled
15. SCREEN CRAB
https://shop.hak5.org/products/screen-crab
16. MalDuino
https://maltronics.com/collections/malduinos
17. KeySweeper
1８. RFID Keysy
""


We sent the following to the partner to relay to the customer:

""
We don't fully understand what this customer wants and how they are exfiltrating data to the Raspberry Pi.

Can you please send the customer this query?:

*Let us know which USB cable(s) you are using to connect to the device.
*What software are you using to access the device (screen, scp, ssh etc.)?
*While the device is connected and a software is using the device run the attached script: epp_collect_sys_info_mac.sh

It will create a file: epp_sysinfo.tar.bz2 on the desktop.    It will contain more info about the device tree, the running processes, loaded drivers, network connections.
""","005Qk000001nViCIAU","2024-10-17T18:07:50.000Z","2024-10-17T18:07:50.000Z","false","false"
"00aQk000009ijp6IAA","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting R&D.","005Qk000001nViCIAU","2024-10-17T18:08:16.000Z","2024-10-17T18:08:16.000Z","false","false"
"00aQk000009tTPBIA2","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-10-28T05:02:33.000Z","2024-10-28T05:02:33.000Z","false","false"
"00aQk000009tTPDIA2","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: -- DevOps Automation Assistant --

This escalation has been in the status 'Awaiting Support' since 2024-10-18 12:36 UTC and the last detected comment from support was 2024-10-17 18:07 UTC.

If this escalation has been resolved with the customer, please add a comment so this can be closed in Azure DevOps.

@WaitingOnEngineer

[DevOps CommentId:11115564]","0054u000006gtWUAAY","2024-10-28T05:02:34.000Z","2024-10-28T05:02:34.000Z","false","false"
"00aQk000009u5O2IAI","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting R&D.","005Qk000001nViCIAU","2024-10-28T15:38:18.000Z","2024-10-28T15:38:18.000Z","false","false"
"00aQk000009twKlIAI","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi team,

The partner also sent us the following:

""In addition, in response to the issues raised by TSMC, I have provided a suggestion for your reference. If there are any errors, please correct them.

For the overall testing process, it is recommended that the following methods be used
1. Focusing first on the standard device, that is, the USB-Serial part, we hope to achieve complete disablement in a short time.
2. Hacker device control, first restrict and protect devices that can obtain drivers
3. Are there any other devices besides the web page provided last time?
4. If you rewrite or even write a driver through decompilation or other methods, this part of DLP should not be restricted at present.""

Can we please have your feedback on this?","005Qk000001nViCIAU","2024-10-28T15:44:03.000Z","2024-10-28T15:44:03.000Z","false","false"
"00aQk00000A1SZBIA3","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-11-04T13:00:09.000Z","2024-11-04T13:00:09.000Z","false","false"
"00aQk00000A1SZDIA3","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

> 1. Focusing first on the standard device, that is, the USB-Serial part, we hope to achieve complete disablement in a short time.

Well did we or did we not achieve disablement of the USB Serial Port device? We sent them a test build that did (or at least tried to do exactly that). The latest logs confirm that we detect the device and most probably that we also block it.


> 2. Hacker device control, first restrict and protect devices that can obtain drivers

I don't exactly understand what they mean here. Is this supposed to be an advice?


> 3. Are there any other devices besides the web page provided last time?

If the mentioned webpage is the user manual page documenting the list of supported device types then the answer is no.
> 4.
 If you rewrite or even write a driver through decompilation or other 
methods, this part of DLP should not be restricted at present.""

If the device is recognized by the operating system and is in the list of supported device types, then we most probably control it with Endpoint Protector.

@WaitingOnEngineer

[DevOps CommentId:11165810]","0054u000006gtWUAAY","2024-11-04T13:00:10.000Z","2024-11-04T13:00:10.000Z","false","false"
"00aQk00000A35YVIAZ","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Client.","005Qk000001nViCIAU","2024-11-05T15:21:16.000Z","2024-11-05T15:21:16.000Z","false","false"
"00aQk00000AB4CDIA1","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-11-12T05:02:00.000Z","2024-11-12T05:02:00.000Z","false","false"
"00aQk00000AB4CFIA1","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: -- DevOps Automation Assistant --

This escalation has been in the status 'Awaiting Support' since 2024-11-04 13:00 UTC and the last detected comment from support was 2024-10-28 15:44 UTC.

If this escalation has been resolved with the customer, please add a comment so this can be closed in Azure DevOps.

@WaitingOnEngineer

[DevOps CommentId:11199736]","0054u000006gtWUAAY","2024-11-12T05:02:01.000Z","2024-11-12T05:02:01.000Z","false","false"
"00aQk00000AB6NhIAL","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Client.","005Qk000001nViCIAU","2024-11-12T06:10:43.000Z","2024-11-12T06:10:43.000Z","false","false"
"00aQk00000ADJ2JIAX","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki

Our partner sent us the below response:

""Regarding the Usb-Serial part, we are asking them to test and respond.

I'm asking the customer for details on the hacking tools.
They seemed unwilling to provide tool details, so I tried to find the answer through other means.
   * Attached is a record of their file transfers against hacking tools.
   * The two hacking tools are tested using UART and serial console respectively.
   * The tests are all done by connecting the USB cable and logging in through the screen command and using echo to record data.
   * Log collection method: After reproducing the technique, collect it according to the steps/script you provided.

Other issues related to host performance
   1. If the logs accumulate to millions or more, how long will it take to search the EPP host for what a user's specified device has done (condition: user + device + date)?
   2. If the logs are exported through system backup, what tool is recommended to read the exported logs?
   3. How long will it take to find the event of question 1 from the exported log?

We do not have such a large amount of data to reproduce this effect.  If possible, can you send us a screenshot or video to tell the customer the answer?""

The logs that our partner submitted are listed below, I uploaded them to the attachments folder:
* 2024.11.13 epp_sysinfo_serialconsole.tar.bz2
* 2024.11.13 epp_sysinfo_UART.tar.bz2","005Qk000001nViCIAU","2024-11-13T17:42:49.000Z","2024-11-13T17:42:49.000Z","false","false"
"00aQk00000ADLdZIAX","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting R&D.","005Qk000001nViCIAU","2024-11-13T17:45:00.000Z","2024-11-13T17:45:00.000Z","false","false"
"00aQk00000AKlwJIAT","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

I did some tests on my side and discovered that our product on macOS as it is now isn't able to control non-storage USB devices with a few exceptions (like iPhone, iPad and iPod).


This list of uncontrollable devices includes the customer's list of ""hacking"" devices as well as a range of Android phones.



To implement support for these USB devices we would need to spike an investigation task to find another reliable method to block these devices on macOS. This will take more time and will necessitate us to buy the necessary USB devices and send them to our developers.

FYI @Cristian-Alexandru Halmajan @Krzysztof Staszalek @Stacy Petruzzi



We did have the capability to block certain Android phones in the past, but we lost that capability circa 2019 when Apple deprecated kernel extensions and we started to use the Endpoint Security framework to replace some of the functionality provided by the kernel extensions. This capability would have helped us to block the customer's devices, but unfortunately it is no longer available in the latest macOS releases.


@WaitingOnEngineer as for the EPP server scalability questions 1,2,3 from the previous comment you should get the answer from our server or product teams.

[DevOps CommentId:11242363]","0054u000006gtWUAAY","2024-11-20T13:13:39.000Z","2024-11-20T13:13:39.000Z","false","false"
"00aQk00000AKlwHIAT","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Escalating Engineer.","0054u000006gtWUAAY","2024-11-20T13:13:39.000Z","2024-11-20T13:13:39.000Z","false","false"
"00aQk00000AKzrCIAT","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki:

Thank you for the comprehensive feedback on this.

Hi @Cristian-Alexandru Halmajan , @Krzysztof Staszalek
As per Robert's comment can we also get input from the Server and / or Product team relating to the Questions 1,2 and 3 please?","005Qk000001nViCIAU","2024-11-20T16:11:31.000Z","2024-11-20T16:11:31.000Z","false","false"
"00aQk00000AKzuPIAT","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting R&D.","005Qk000001nViCIAU","2024-11-20T16:11:44.000Z","2024-11-20T16:11:44.000Z","false","false"
"00aQk00000AL05iIAD","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki:

Our partner also sent us this today:

""Dear Support

TSMC contact stated that the testers were unwilling to provide the name of the hacking tool.
But they can help us look up some information.
Is there any command on Mac that can view the current hardware device information or related logs?""","005Qk000001nViCIAU","2024-11-20T16:13:03.000Z","2024-11-20T16:13:03.000Z","false","false"
"00aQk00000AMMaQIAX","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki:

The partner sent us the below. I think it would be best if we could have a call with the partner to discuss these topics as they seem to questions directed mostly towards the Dev team.  Could you please share your thoughts / feedback on this? would it be possible to have this call with the partner and the end customer?

The partner sent us the below today:

""I'm currently having issues with TSMC's window retcon.  This is the earliest question about ADB, It can be blocked when the executing program is called ADB. If ADB is changed to BAD, the file can be transferred smoothly, and no record can be found on the EPP.
They use the official ADB program, make a copy and change the execution program to BAD. The instructions are as follows Normal ADB ./adb push NOTICE.txt /sdcard/1.txt Change to BAD ./bad push NOTICE.txt /sdcard/1.txt

This seems to be a strange vulnerability, please tell me how to respond to the customer first, thank you.

There are two issues that require your priority assistance.
2. Their testers have always said: ""The hacking tool can transfer files by connecting to the MAC through USB-Serial, and EPP has no records.""Can we tell from the LOG that they really did this? Or just talk about it?

We will have a meeting with them and need to understand the details first.""","005Qk000001nViCIAU","2024-11-21T16:31:31.000Z","2024-11-21T16:31:31.000Z","false","false"
"00aQk00000AMMgsIAH","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Krzysztof Staszalek:

https://dev.azure.com/NetwrixCorporation/CoSoSys-EPP/_workitems/edit/355780#11242363 

@Robert Zavalczki (internally - do not use waitingOnEngineer to answer this node) is DC on Mac able to cover RaspberyPI's USB2serial? I've tested it on my side on Windows with success for RaspberyPI nano, ESP32, ESP8266, USB2Serial(ch340) devices... 
fyi @Cristian-Alexandru Halmajan

[DevOps CommentId:11260166]","0054u000006gtWUAAY","2024-11-21T16:32:02.000Z","2024-11-21T16:32:02.000Z","false","false"
"00aQk00000ARK8CIAX","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

The test build we sent to our partner did detect the ""USB Serial"" cable. However, I don't think the device could actually be blocked, even though the logs did not show any errors and our customer did not explicitly say that the device is not blocked (maybe the communication was broken somewhere in the chain).

I base my assumption that the device was not blocked on my tests with other non-storage USB devices (a USB to Ethernet adapter) which also can't be blocked by EPP. Unfortunately I didn't have a USB Serial cable to test.

Moreover, our customers connected the Raspberry PI also in a different way so that is showed up in the OS as a network device. That was not detected by Endpoint Protector.


> They use the official ADB program, make a copy and change the execution program to BAD. 

So here I assume that they used CAP to scan files accessed by the ADB program:



This no longer pertains to device control and is a new information we found out on 21 November 2024.


On Windows I know that we are able control USB Serial port devices without issues, on macOS the problem is that we are no longer able to control these devices (as well as Android Phones) using our USB device blocking method. It simply no longer works on modern versions of macOS (it did work in 2019). So if we want to meet this customer's expectations we should invest some time to find a method that can actually block non-storage USB devices connected to a mac. FYI @Krzysztof Staszalek @Cristian-Alexandru Halmajan

[DevOps CommentId:11278796]","0054u000006gtWUAAY","2024-11-26T15:03:31.000Z","2024-11-26T15:03:31.000Z","false","false"
"00aQk00000ARPUQIA5","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert Zavalczki:
Thank you for the feedback on this.

Hi @Krzysztof Staszalek @Cristian-Alexandru Halmajan how should we communicate this update to the customer and will we research towards a goal of blocking USB Serial port devices on new and current macOS versions?","005Qk000001nViCIAU","2024-11-26T15:36:10.000Z","2024-11-26T15:36:10.000Z","false","false"
"00aQk00000ASZhqIAH","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Krzysztof Staszalek:

adding @Peter Rooney for visibility nad further discussion

[DevOps CommentId:11284883]","0054u000006gtWUAAY","2024-11-27T14:30:48.000Z","2024-11-27T14:30:48.000Z","false","false"
"00aQk00000Aa4IfIAJ","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Account has been changed to TSMC.
Account ACV has been changed to 1376581.88666666667.","005Qk000001nViCIAU","2024-12-05T07:59:44.000Z","2024-12-05T07:59:44.000Z","false","false"
"00aQk00000Aa4NWIAZ","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi @Robert

In continuation with our discussion, we have the below three pending questions from our partner.

""
1. ADB issues:
This should be the proper function of the product.  I mentioned last time that you can disable commands containing Push, which should be more efficient than simply detecting strings containing ADB. At least TSMC can accept this approach.

2. USB-Serial:
In principle, they will use Usb-Serial to connect to the Raspberry Pi, operate in URAT mode, and copy and paste information to external devices through echo commands.  Are they completely blocked when asking them to confirm a normal device connection.

3. Hacking Tools:
If EPP cannot block hacking tools in the driver, can it be blocked in the process?  Or can EPP disable URAT behavior through kext?
""","005Qk000001nViCIAU","2024-12-05T08:02:56.000Z","2024-12-05T08:02:56.000Z","false","false"
"00aQk00000AaWDLIA3","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Hi Robert, thank you for your feedback on the questions which the partner asked.  I am also putting here for visibility on the ADO case.


Update and for visibility on ADO Case:

Partner Question 1 on ADB issues
This should be the proper function of the product.
I mentioned last time that you can disable commands containing Push, which should be more efficient than simply detecting strings containing ADB. At least TSMC can accept this approach.

* R&D Response:
I don't exactly understand what they want. I assume that they are talking about CAP and monitoring the ""ADB"" application found among the application exit points in the ""Social Media / Others"" section.
> I mentioned last time that you can disable commands containing Push,
Do they mean terminal (shell) commands? Because if they do then they can achieve this using the ""Application Denylist"" feature of our product (I tested this on my mac, we are able to block any command using a match on the command parameters).
************************************************

Partner Question 2 on USB-Serial:
In principle, they will use Usb-Serial to connect to the Raspberry Pi, operate in URAT mode, and copy and paste information to external devices through echo commands.
Are they completely blocked when asking them to confirm a normal device connection.

* R&D Response:
I don't think we are able to block this using device control (even though we can detect the device), though they might use application blocking from the CAP module.
************************************************

Partner Question 3 on Hacking Tools:
If EPP cannot block hacking tools in the driver, can it be blocked in the process? Or can EPP disable URAT behavior through kext?

*R&D Response:
We are not able to control USB devices that use the UART protocol to communicate. We try to block them but we are unable because macOS ensures the device can be used by applications.
************************************************

Partner Question 1. Regarding USB restrictions, is there a finder, or is it possible to disable USB directly from a lower level?
* R&D Answer:
We are not able to block all USB devices (especially USB composite devices, for the ones that the customer is interested in blocking).
************************************************

Partner Question 2. If a user installs a new USB device, does Apple have any process to let IT staff know what type of device the MAC thinks it is?

* R&D Answer:
Yes it knows and we can know based on the device properties.","005Qk000001nViCIAU","2024-12-05T16:03:33.000Z","2024-12-05T16:03:33.000Z","false","false"
"00aQk00000AaWd7IAF","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Awaiting Client.","005Qk000001nViCIAU","2024-12-05T16:04:34.000Z","2024-12-05T16:04:34.000Z","false","false"
"00aQk00000AwslRIAR","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to No Response.","005Qk000001nViCIAU","2024-12-27T15:54:01.000Z","2024-12-27T15:54:01.000Z","false","false"
"00aQk00000BGsvnIAD","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

Closing item based on the latest Salesforce comment.

[DevOps CommentId:11510139]","0054u000006gtWUAAY","2025-01-16T09:27:38.000Z","2025-01-16T09:27:38.000Z","false","false"
"00aQk00000BGuuNIAT","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the new comment has been added: Robert Zavalczki:

Closing item based on the latest Salesforce comment.

[DevOps CommentId:11510139]","0054u000006gtWUAAY","2025-01-16T09:27:40.000Z","2025-01-16T09:27:40.000Z","false","false"
"00aQk00000BV4dhIAD","500Qk00000ELk7pIAD","On Escalation Ticket # 00419837 the Following Fields have been updated: 
Status has been changed to Closed - Resolved.","005Qk000001nViCIAU","2025-01-29T05:17:23.000Z","2025-01-29T05:17:23.000Z","false","false"
